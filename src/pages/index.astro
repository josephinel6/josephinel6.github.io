---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ProjectListing from "../components/ProjectListing.astro";

const allPosts = await Astro.glob("./projects/*.md");
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>Astro</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"></script>
    <script is:inline src="/src/scripts/global.js"></script>
    <style>
      body {
        background-color: var(--color-bg);
      }

      h1 {
        font-family: sans-serif;
        color: var(--color-title-text);
      }

      p {
        color: var(--color-title-text);
        font-family: monospace;
        /* line-height: 1em; */
        font-size: 1.2em;
        margin-bottom: 0.2vh;
        margin-top: 0;
      }

      .typewriter h1 {
        /* font-family: monospace; */
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        color: var(--color-text);
        font-weight: 800;
        overflow: hidden;
        /* border-right: 0.15em solid var(--color-title-text); */
        white-space: nowrap;
        margin: 0;
        letter-spacing: 0.15em;
        animation:
          typing 1s steps(50, end),
          blink-caret 0.5s step-end infinite;
        display: inline-block;
        margin-top: 0.6vh;
        margin-bottom: 2vh;
      }

      @keyframes typing {
        from {
          width: 0;
        }

        to {
          width: 13%;
        }
      }

      @keyframes blink-caret {
        from,
        to {
          border-color: transparent;
        }

        50% {
          border-color: var(--color-title-text);
        }
      }

      #project-preview {
        background-color: var(--color-obj-bg);
        height: 70vh;
        width: 45vw;
        display: inline-block;
        width: 45vw;
        right: 5vw;
        top: 9vh;
        /* magin-top: -15vh; */
        position: absolute;
      }

      @media screen and (max-width: 1200px) {
        #intro-block-expansion {
          width: 30vw;
        }
      }

      @media screen and (max-width: 768px) {
        #intro-block-expansion {
          width: 40vw;
        }

        #project-preview {
          display: block;
          position: relative;
          height: 50vh;
          width: 100%;
          margin-top: 5vh;
          right: 0;
          padding-top: 2%;
        }
      }

      #typewriter {
        margin-top: 10vh;
      }

      #main-content {
        padding-left: 4vw;
        padding-right: 4vw;
      }

      .col-6 {
        margin: 0;
        padding: 0;
      }

      .container {
        padding: 0 !important;
      }
    </style>
  </head>
  <body>
    <!-- <Navigation/> -->
    <Header />
    <div id="main-content">
      <div class="typewriter" id="typewriter">
        <h1>My work:</h1>
      </div>
      <div id="projects">
        <div class="row row-cols-3 gx-3 gy-3">
          {
            allPosts.map((post) => (
              <ProjectListing
                title={post.frontmatter.title}
                desc={post.frontmatter.description}
                img={post.frontmatter.thumbnail}
                tools={post.frontmatter.tools}
                url={post.url}
              />
            ))
          }
          <ProjectListing
            title="test"
            desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed volutpat magna nulla, eu auctor elit porta id. Morbi tortor est, fringilla at odio eu, malesuada molestie nulla. Nullam nec ligula sagittis, lobortis leo sed, luctus nisl. Morbi laoreet lacinia leo sit amet tempor. Nam pharetra, ipsum non porta elementum, neque est finibus arcu, nec rutrum nunc erat hendrerit felis."
            img="../../public/project-images/makeupAPI_7.png"
            tools={["javascript"]}
          />
          <ProjectListing
            title="test"
            desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed volutpat magna nulla, eu auctor elit porta id. Morbi tortor est, fringilla at odio eu, malesuada molestie nulla. Nullam nec ligula sagittis, lobortis leo sed, luctus nisl. Morbi laoreet lacinia leo sit amet tempor. Nam pharetra, ipsum non porta elementum, neque est finibus arcu, nec rutrum nunc erat hendrerit felis. Integer suscipit, lorem ut vestibulum ultricies, neque purus tristique nisl, vitae molestie neque tortor non magna."
            img="../../public/project-images/makeupAPI_7.png"
            tools={["javascript"]}
          />
          <ProjectListing
            title="test"
            desc="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed volutpat magna nulla, eu auctor elit porta id. Morbi tortor est, fringilla at odio eu, malesuada molestie nulla. Nullam nec ligula sagittis, lobortis leo sed, luctus nisl. Morbi laoreet lacinia leo sit amet tempor. Nam pharetra, ipsum non porta elementum, neque est finibus arcu, nec rutrum nunc erat hendrerit felis."
            img="../../public/project-images/makeupAPI_7.png"
            tools={["javascript"]}
          />
        </div>
      </div>
    </div>
    <Footer />
  </body>
</html>
